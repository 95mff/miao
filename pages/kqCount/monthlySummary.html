<!DOCTYPE html>
<html>

	<head>

		<title>智慧校园管理平台</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<link rel="shortcut icon" type="images/x-icon" href="http://192.168.1.175:8091/image/signImg/favicon.ico">
		<link href="../../css/bootstrap.min14ed.css?v=3.3.6" rel="stylesheet">
		<link href="../../css/font-awesome.min93e3.css?v=4.4.0" rel="stylesheet">
		<link href="../../css/animate.min.css" rel="stylesheet">
		<link href="../../css/style.min862f.css?v=4.1.0" rel="stylesheet">
		<link href="../../css/plugins/iCheck/custom.css" rel="stylesheet">
		<link rel="stylesheet" href="../../css/index_add.css" />
		<link rel="stylesheet" href="../../css/student.css" />
	</head>

	<body class="gray-bg top-navigation">

		<div id="wrapper">
			<div id="page-wrapper" class="gray-bg">
				<div class="row border-bottom white-bg">
					<nav class="navbar navbar-static-top" role="navigation">
						<div class="nav_header">
							<div class="nav_header_top">
								<div class="nav_header_top_inner">
									<img src="../../img/a1.jpg" alt="头像" title="头像" class="nav_header_tou" />
									<ul class="nav_list">
										<li><a href="../../index.html"><i class="icon iconfont icon-yuangongguanli-copy"></i>员工管理</a>

										</li>
										<li><i class="fa fa-home"></i>学生管理
											<ul class="nav_list_menu" style="margin-left:-160px;">
												<li><a href="../studentAdministration/dorms.html">宿舍管理</a></li>
												<li><a href="../studentAdministration/grade.html">年级管理</a></li>
											</ul>
										</li>
										<li><i class="fa fa-home"></i>来访管理
											<ul class="nav_list_menu" style="margin-left:-260px;">
												<li><a href="../visitorAdministration/stranger.html">陌生人员名单</a></li>
												<li><a href="../visitorAdministration/blacklist.html">黑名单</a></li>
												<li><a href="../visitorAdministration/whitelist.html">白名单</a></li>
											</ul>
										</li>
										<li><i class="fa fa-home"></i>考勤管理
											<ul class="nav_list_menu " style="margin-left:-400px;">
												<li><a href="../kqAdministration/dayRule.html">日考勤规则</a></li>
												<li ><a href="../kqAdministration/weekRule.html">周考勤规则</a></li>
												<li><a href="../kqAdministration/kq_group.html">考勤组管理</a></li>
												<li><a href="../kqAdministration/holiday.html">假期管理</a></li>
												<li class="nav_list_menuActive"><a href="../kqAdministration/pushTime.html">推送时间管理</a></li>
												<li><a href="../kqAdministration/jurisdiction.html">权限管理</a></li>
											</ul>
										</li>
										<li><i class="fa fa-home"></i>考勤统计
											<ul class="nav_list_menu show" style="margin-left:-520px;">

												<li class="nav_list_menuActive"><a href="../kqCount/monthlySummary.html">月度汇总</a></li>
												<li><a href="../kqCount/dailySummary.html">每日统计</a></li>
												<li><a href="../kqCount/dkTime.html">打卡时间</a></li>

											</ul>
										</li>
									
										<li><i class="fa fa-home"></i>系统设置
											<ul class="nav_list_menu" style="margin-left:-640px;">

												<li><a href="../systemSetup/account.html">账号管理</a></li>
												<li><a href="../systemSetup/schoolGate.html">校门管理</a></li>
												<li><a href="../systemSetup/equipment.html">设备管理</a></li>
												<li><a href="../systemSetup/screen.html">大屏管理</a></li>
											</ul>
										</li>
										<li><a href="../../login.html"><i class="icon iconfont icon-tuichu"></i>退出登录</a></li>
									</ul>
								</div>
							</div>
						</div>

					</nav>
				</div>
				<div class="wrapper wrapper-content">
					<div class="container white-bg">
						<div class="row">
							<ul class="container_header_tab">
								<li class="active">教职工</li>
								<li>学生</li>
							</ul>
						</div>
						<div class="row" id="container_header_tabContent">
							<div class="tab_list show">
								<div class="col-lg-12 col-md-12 col-sm-12 container_header_title">考勤统计-月度汇总-教职工</div>
								<form class="form-horizontal m-t " novalidate="novalidate">

									<div class="form-group" style="margin-bottom: 0px;">
										<label class="col-sm-1 control-label input_label">展示列：</label>
										<div class="col-sm-8 m-t8" id="teacherIsCheck">
											<input type="checkbox" class="i-checks" value="7" checked/>
											<span class=" m-r5">部门</span>
											<input type="checkbox" class="i-checks" value="0" checked/><span class=" m-r5">出勤天数</span>
											<input type="checkbox" class="i-checks" value="1" checked/><span class=" m-r5">休息天数</span>
											<input type="checkbox" class="i-checks" value="2" checked/><span class=" m-r5">在校时长</span>
											<input type="checkbox" class="i-checks" value="3" checked/><span class=" m-r5">迟到次数</span>
											<input type="checkbox" class="i-checks" value="4" checked/><span class=" m-r5">旷工次数</span>
											<input type="checkbox" class="i-checks" value="5" checked/><span class=" m-r5">早退次数</span>
											<input type="checkbox" class="i-checks" value="6" checked/><span class=" m-r5">请假次数</span>

										</div>
									</div>
									<div class="form-group">
										<label class="col-sm-1 control-label input_label" style="margin-top:10px">时间：</label>
										<div class="col-sm-10 m-t8">
											<input id="start" name="starttime" minlength="2" type="text" class="laydate-icon form-control layer-date m-t-8">
											<span class="control-label input_label">至</span>
											<input id="end" name="starttime" minlength="2" type="text" class="laydate-icon form-control layer-date m-t-8">
											<label class="control-label input_label m-l10">部门</label>
											<select class="form-control m-t5 selectWidth">
												<option>全部</option>
												<option>高一</option>

											</select>
											<button type="submit" class="btn btn-sm btn-primary" onclick="tableUpdata()" style="margin-top:-5px;">查询</button>
											<button class="btn btn-sm btn-primary fontSize15 m-l15" onclick="addKqRule(this)" style="margin-top:-5px;"><i class="fa fa-plus"></i>导出报表</button>
										</div>
									</div>

								</form>
								<div class="ibox-content pnone width95">

									<div class="table-responsive">
										<table class="table table-striped" id="teaherTable">
											<thead>
												<tr>

													<th>姓名</th>
													<th data-type="部门" class="teaher_bumen">部门</th>
													<th data-type="出勤天数" class="teaher_chuqin">出勤天数</th>
													<th data-type="休息天数" class="teaher_xiuxi">休息天数</th>
													<th data-type="工时" class="teaher_gongshi">工时</th>
													<th data-type="迟到次数" class="teaher_gchidao">迟到次数</th>
													<th data-type="旷工次数" class="teaher_kuanggong">旷工次数</th>
													<th data-type="早退次数" class="teaher_zaotui">早退次数</th>
													<th data-type="请假次数" class="teaher_qingjia">请假次数</th>
												</tr>
											</thead>
											<tbody>
												<tr>

													<td>苗粉粉</td>
													<td data-type="部门" class="teaher_bumen">信息部</td>
													<td data-type="出勤天数" class="teaher_chuqin">28</td>
													<td data-type="休息天数" class="teaher_xiuxi">2</td>
													<td data-type="工时" class="teaher_gongshi">100</td>
													<td data-type="迟到次数" class="teaher_gchidao">0</td>
													<td data-type="旷工次数" class="teaher_kuanggong">0</td>
													<td data-type="早退次数" class="teaher_zaotui">0</td>
													<td data-type="请假次数" class="teaher_qingjia">0</td>

												</tr>

											</tbody>
										</table>

									</div>

								</div>
							</div>
							<div class="tab_list">
								<div class="col-lg-12 col-md-12 col-sm-12 container_header_title">考勤统计-月度汇总-学生</div>
								<form class="form-horizontal m-t " novalidate="novalidate">

									<div class="form-group" style="margin-bottom: 0px;">
										<label class="col-sm-1 control-label input_label">展示列：</label>
										<div class="col-sm-8 m-t8" id="StuentIsCheck">
											<input type="checkbox" class="i-checks" value="7" checked/><span class=" m-r5">类型</span>
											
											<input type="checkbox" class="i-checks" value="0" checked/><span class=" m-r5">出勤天数</span>
											<input type="checkbox" class="i-checks" value="1" checked/><span class=" m-r5">休息天数</span>
											<input type="checkbox" class="i-checks" value="2" checked/><span class=" m-r5">在校时长</span>
											<input type="checkbox" class="i-checks" value="3" checked/><span class=" m-r5">迟到次数</span>
											<input type="checkbox" class="i-checks" value="4" checked/><span class=" m-r5">旷课次数</span>
											<input type="checkbox" class="i-checks" value="5" checked/><span class=" m-r5">早退次数</span>
											<input type="checkbox" class="i-checks" value="6" checked/><span class=" m-r5">请假次数</span>
											<input type="checkbox" class="i-checks" value="8" checked/><span class=" m-r5">异常次数</span>

										</div>
									</div>
									<div class="form-group">
										<label class="col-sm-1 control-label input_label" style="margin-top:10px">时间：</label>
										<div class="col-sm-10 m-t8">
											<input id="studentStart" name="starttime" minlength="2" type="text" class="laydate-icon form-control layer-date m-t-8 inputWidth180">
											<span class="control-label input_label">至</span>
											<input id="studentEnd" name="starttime" minlength="2" type="text" class="laydate-icon form-control layer-date m-t-8 inputWidth180" >
											<label class="control-label input_label m-l10">年级</label>
											<select class="form-control m-t5 selectWidth120">
												<option>全部</option>
												<option>高一</option>

											</select>
											<label class="control-label input_label m-l10">班级</label>
											<select class="form-control m-t5 selectWidth120">
												<option>全部</option>
												<option>一班</option>

											</select>
											<button type="submit" class="btn btn-sm btn-primary" onclick="tableUpdata()" style="margin-top:-5px;">查询</button>
											<button class="btn btn-sm btn-primary fontSize15 m-l15" onclick="addKqRule(this)" style="margin-top:-5px;"><i class="fa fa-plus"></i>导出报表</button>
										</div>
									</div>

								</form>
								<div class="ibox-content pnone width95">

									<div class="table-responsive">
										<table class="table table-striped" id="studentTable">
											<thead>
												<tr>

													<th>姓名</th>
													<th>性别</th>
													<th>年级</th>
													<th>班级</th>
													<th  class="student_chuqin">出勤天数</th>
													<th class="student_xiuxi">休息天数</th>
													<th class="student_xueshi">学时</th>
													<th class="student_chidao">迟到次数</th>
													<th class="student_kuangke">旷课次数</th>
													<th class="student_zaotui">早退次数</th>
													<th class="student_qingjia">请假次数</th>
													<th class="student_yichang">异常次数</th>
												</tr>
											</thead>
											<tbody>
												<tr>

													<td>苗粉粉</td>
													<td>女</td>
													<td>高一</td>
													<td>一班</td>
													<td class="student_chuqin">2</td>
													<td class="student_xiuxi">休息时间</td>
													<td class="student_xueshi">学时</td>
													<td class="student_chidao">迟到次数</td>
													<td class="student_kuangke">旷课次数</td>
													<td class="student_zaotui">早退次数</td>
													<td class="student_qingjia">请假次数</td>
													<td class="student_yichang">异常次数</td>
													
												</tr>

											</tbody>
										</table>

									</div>

								</div>
							</div>
						</div>
					</div>
					
				</div>
			</div>

			<script src="../../js/jquery.min.js?v=2.1.4"></script>
			<script src="../../js/bootstrap.min.js?v=3.3.6"></script>
			<script src="../../js/content.min.js?v=1.0.0"></script>
			<script src="../../js/plugins/validate/jquery.validate.min.js" charset="UTF-8"></script>
			<script src="../../js/plugins/validate/messages_zh.min.js" charset="UTF-8"></script>
			<script src="../../js/plugins/layer/laydate/laydate.js"></script>

			<script src="../../js/plugins/layer/layer.min.js"></script>
			<script src="../../js/plugins/iCheck/icheck.min.js"></script>
			<script src="../../js/common.js"></script>
	</body>
	<script>
		laydate({
			elem: "#start",
			event: "focus"
		});
		laydate({
			elem: "#end",
			event: "focus"
		});
		laydate({
			elem: "#studentStart",
			event: "focus"
		});
		laydate({
			elem: "#studentEnd",
			event: "focus"
		});
		$('.container_header_tab li').click(function() {
			var index = $(this).index();
			console.log(index);
			$('.container_header_tab li').eq(index).addClass('active').siblings().removeClass('active');
			$('#container_header_tabContent .tab_list').eq(index).addClass('show').siblings().removeClass('show');
		})

		//checkbox全选，反选
		$(document).ready(function() {
			$(".i-checks").iCheck({
				checkboxClass: "icheckbox_square-green",
				radioClass: "iradio_square-green",
			})
			var checkedStr = [];
			var studentcheckedStr=[];
			$('#teacherIsCheck input').each(function() {
				if(true == $(this).is(':checked')) {
					var checkedStrItem = {};
					checkedStrItem = $(this).val();
					checkedStr.push(checkedStrItem);

				}
			});
			$('#StuentIsCheck input').each(function() {
				if(true == $(this).is(':checked')) {
					var StudentcheckedStrItem = {};
					StudentcheckedStrItem = $(this).val();
					studentcheckedStr.push(StudentcheckedStrItem);

				}
			});
			console.log(studentcheckedStr);
			$('#teacherIsCheck input').each(function() {
				$(this).on('ifChanged', function(event) {
					if(true == $(this).is(':checked')) {
						var checkedStrItem = {};
						checkedStrItem = $(this).val();
						checkedStr.push(checkedStrItem);
						isCheckArry(checkedStr);
					} else {

						checkedStr.splice($.inArray($(this).val(), checkedStr), 1);
						isCheckArry(checkedStr);
					}

				})
			})
			$('#StuentIsCheck input').each(function() {
				$(this).on('ifChanged', function(event) {
					if(true == $(this).is(':checked')) {
						var checkedStrItem = {};
						checkedStrItem = $(this).val();
						studentcheckedStr.push(checkedStrItem);
						studentisCheckArry(studentcheckedStr);
					} else {

						studentcheckedStr.splice($.inArray($(this).val(), studentcheckedStr), 1);
						studentisCheckArry(studentcheckedStr);
					}

				})
			})
			isCheckArry(checkedStr);
			studentisCheckArry(studentcheckedStr);
			//加载框
			//			layer.msg('加载中', {
			//				icon: 16,
			//				shade: 0.01
			//			});
			//			$.ajax({
			//              url:"你的url",  //请求的URL
			//              timeout:5000, //超时时间设置，单位毫秒
			//              type :'post',  //请求方式，get或post
			//              data :{"url":url},  //请求所传参数，json格式
			//              dataType:'json',//返回的数据格式
			//              success:function(res){
			//                  //请求成功的回调函数
			//                  if(res.info=="ok")
			//                  {
			//                      layer.open({
			//                          content: '成功返回了，我被弹出来',
			//                          time:3
			//                      });
			//                  }else
			//                  {
			//                      //稍后尝试
			//                      layer.open({
			//                          content: '获取数据失败了，我被弹出来'
			//                      });
			//                  }
			//              },
			//              complete : function(XMLHttpRequest,status){
			//                  //请求完成后最终执行参数
			//                  if(status=='timeout')
			//                  {
			//                      //超时,status还有success,error等值的情况
			//                      layer.open({
			//                          content: '请求超时,请刷新重试',
			//                          btn: ['OK']
			//                      });
			//                  }
			//              }
			//          });

		});
		//循环展示列
		
		var checkboxValue = "";
		//判断tbale所展示的列
		function isCheckArry(elem) {
		
			//判断是否显示出勤天数
			if($.inArray('0', elem) == -1) {
				$('.teaher_chuqin').hide();
			} else {
				$('.teaher_chuqin').show();
			}
			//判断是否显示休息天数
			if($.inArray('1', elem) == -1) {
				$('.teaher_xiuxi').hide();
			} else {
				$('.teaher_xiuxi').show();
			}
			//判断在校时长
			if($.inArray('2', elem) == -1) {
				$('.teaher_gongshi').hide();
			} else {
				$('.teaher_gongshi').show();
			}
			//判断迟到次数是否存在
			if($.inArray('3', elem) == -1) {
				$('.teaher_gchidao').hide();
			} else {
				$('.teaher_gchidao').show();
			}
			//旷工
			if($.inArray('4', elem) == -1) {
				$('.teaher_kuanggong').hide();
			} else {
				$('.teaher_kuanggong').show();
			}
			if($.inArray('5', elem) == -1) {
				$('.teaher_zaotui').hide();
			} else {
				$('.teaher_zaotui').show();
			}
			if($.inArray('6', elem) == -1) {
				$('.teaher_qingjia').hide();
			} else {
				$('.teaher_qingjia').show();
			}
		}
		function studentisCheckArry(elem){
			
			//判断是否显示出勤天数
			if($.inArray('0', elem) == -1) {
				$('.student_chuqin').hide();
			} else {
				$('.student_chuqin').show();
			}
			//判断是否显示休息天数
			if($.inArray('1', elem) == -1) {
				$('.student_xiuxi').hide();
			} else {
				$('.student_xiuxi').show();
			}
			//判断在校时长
			if($.inArray('2', elem) == -1) {
				$('.student_xueshi').hide();
			} else {
				$('.student_xueshi').show();
			}
			//判断迟到次数是否存在
			if($.inArray('3', elem) == -1) {
				$('.student_chidao').hide();
			} else {
				$('.student_chidao').show();
			}
			//旷工
			if($.inArray('4', elem) == -1) {
				$('.student_kuangke').hide();
			} else {
				$('.student_kuangke').show();
			}
			if($.inArray('5', elem) == -1) {
				$('.student_zaotui').hide();
			} else {
				$('.student_zaotui').show();
			}
			if($.inArray('6', elem) == -1) {
				$('.student_qingjia').hide();
			} else {
				$('.student_qingjia').show();
			}
			if($.inArray('8', elem) == -1) {
				$('.student_yichang').hide();
			} else {
				$('.student_yichang').show();
			}
		}
		function tijiao(elem) {
			var str = "";
			$("#tableInfo tbody tr td input[name='input[]']:checkbox").each(function() {
				if(true == $(this).is(':checked')) {
					str += $(this).val() + ",";
				}
			});
			if(str.substr(str.length - 1) == ',') {
				checkboxValue = str.substr(0, str.length - 1);
			}
			console.log(checkboxValue);
		}
	</script>

	<!-- Mirrored from www.zi-han.net/theme/hplus/index_v5.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 20 Jan 2016 14:18:52 GMT -->

</html>